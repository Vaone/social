import { connect } from "react-redux";
import {
  addPostAC,
  changePostAC,
  ProfilePageType,
} from "../../redux/profilePage-reducer";
import { AppDispatch, RootState } from "../../redux/redux-store";
import Profile from "./Profile";

type MapStateToPropsType = {
  profilePage: ProfilePageType 
}

type MapDispatchToPropsType = {
  onChangeInput: (text: string)=>void,
  onClickAddPost: ()=>void
}

export type ProfilePropsType = MapStateToPropsType & MapDispatchToPropsType;
const mapStateToProps = (state: RootState):MapStateToPropsType => {
  return {
    profilePage: state.profilePage
  }
}

const mapDispatchToProps = (dispatch: AppDispatch):MapDispatchToPropsType => {
  return {
    onChangeInput: (text: string)=>{
      dispatch(changePostAC(text))
    },
    onClickAddPost: ()=>{
      dispatch(addPostAC())
      dispatch(changePostAC(""))
    }
  }
}

const ProfileContainer = connect(mapStateToProps, mapDispatchToProps)(Profile)

export default ProfileContainer

